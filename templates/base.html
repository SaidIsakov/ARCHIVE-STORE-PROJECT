{% load static %}
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ARCHIVE STORE</title>

    <!-- GOOGLE FONTS -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">

    <!-- HTMX -->
     <script src="https://cdn.jsdelivr.net/npm/htmx.org@2.0.8/dist/htmx.min.js" integrity="sha384-/TgkGk7p307TH7EXJDuUlgG3Ce1UVolAOFopFekQkkXihi5u/6OCvVKyz1W+idaz" crossorigin="anonymous"></script>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">

    <!-- CSS -->
    <link rel="stylesheet" href="{% static "css/base.css" %}">
    <link rel="stylesheet" href="{% static "css/products.css" %}">
    <link rel="stylesheet" href="{% static "css/product_detail.css" %}">
    <link rel="stylesheet" href="{% static "cart/css/cart-modal.css" %}">

    <!-- JS -->
    {% comment %} <link rel="stylesheet" href="{% static "js/product_detail.js" %}"> {% endcomment %}
    <link rel="stylesheet" href="{% static "cart/js/modal-cart.js" %}">
</head>

<!-- CART MODAL -->
{% include "cart/cart_modal.html" %}


<!-- HEADER -->
{% include "components/header.html" %}

<main id='main-content'>
{% block main %}

{% endblock main %}
</main>


<!-- FOOTER -->
 {% include "components/footer.html" %}

</html>


<script>
// 2. Логика корзины
    document.addEventListener('DOMContentLoaded', function() {
        const cartBtn = document.getElementById('openCart');
        const sideCart = document.getElementById('side-cart');
        const overlay = document.getElementById('cart-overlay');
        const closeBtn = document.getElementById('close-cart');

        function openCart() {
            sideCart.classList.add('active');
            overlay.style.display = 'block';
            document.body.style.overflow = 'hidden'; // Отключаем скролл страницы
        }

        function closeCart() {
            sideCart.classList.remove('active');
            overlay.style.display = 'none';
            document.body.style.overflow = 'auto'; // Возвращаем скролл
        }

        if (cartBtn) cartBtn.addEventListener('click', openCart);
        if (closeBtn) closeBtn.addEventListener('click', closeCart);
        if (overlay) overlay.addEventListener('click', closeCart);
    });

</script>
